# 接口和字段检查报告

## 一、接口使用情况

### 1. 认证授权模块

| 接口 | 方法 | 状态 | 前端使用位置 | 备注 |
|------|------|------|-------------|------|
| `/api/auth/login` | POST | ✅ 已使用 | `login.html` | 用户登录 |
| `/api/auth/logout` | POST | ✅ 已使用 | `main.js` | 用户登出 |
| `/api/auth/refresh` | POST | ❌ 未使用 | - | Token刷新（可选） |
| `/api/auth/validate` | GET | ❌ 未使用 | - | Token验证（可选） |
| `/api/users/me` | GET | ✅ 已使用 | `main.js` | 获取当前用户信息 |
| `/api/users/by-role` | GET | ❌ 未使用 | - | 根据角色查询用户（可选） |
| `/api/users/by-status` | GET | ❌ 未使用 | - | 根据状态查询用户（可选） |

### 2. 系统管理模块

#### 机构管理
| 接口 | 方法 | 状态 | 前端使用位置 |
|------|------|------|-------------|
| `/api/organizations/level1` | GET | ✅ 已使用 | `org-level1.js`, `org-level2.js`, `org-level3.js` |
| `/api/organizations/level2` | GET | ✅ 已使用 | `org-level2.js`, `org-level3.js` |
| `/api/organizations/level3` | GET | ✅ 已使用 | `org-level3.js` |
| `/api/organizations/level1` | POST | ✅ 已使用 | `org-level1.js` |
| `/api/organizations/level2` | POST | ✅ 已使用 | `org-level2.js` |
| `/api/organizations/level3` | POST | ✅ 已使用 | `org-level3.js` |
| `/api/organizations/{orgId}` | PUT | ✅ 已使用 | `org-level1.js`, `org-level2.js`, `org-level3.js` |
| `/api/organizations/{orgId}` | DELETE | ✅ 已使用 | `org-level1.js`, `org-level2.js`, `org-level3.js` |

#### 职位管理
| 接口 | 方法 | 状态 | 前端使用位置 |
|------|------|------|-------------|
| `/api/positions` | GET | ✅ 已使用 | `position.js` |
| `/api/positions/{positionId}` | GET | ✅ 已使用 | `position.js` |
| `/api/positions` | POST | ✅ 已使用 | `position.js` |
| `/api/positions/{positionId}` | PUT | ✅ 已使用 | `position.js` |
| `/api/positions/{positionId}` | DELETE | ✅ 已使用 | `position.js` |

#### 薪酬项目管理
| 接口 | 方法 | 状态 | 前端使用位置 |
|------|------|------|-------------|
| `/api/salary-items` | GET | ✅ 已使用 | `salary-item.js` |
| `/api/salary-items/{itemId}` | GET | ✅ 已使用 | `salary-item.js` |
| `/api/salary-items` | POST | ✅ 已使用 | `salary-item.js` |
| `/api/salary-items/{itemId}` | PUT | ✅ 已使用 | `salary-item.js` |
| `/api/salary-items/{itemId}` | DELETE | ✅ 已使用 | `salary-item.js` |

### 3. 人力资源档案管理模块

| 接口 | 方法 | 状态 | 前端使用位置 | 备注 |
|------|------|------|-------------|------|
| `/api/employee-archives` | POST | ✅ 已使用 | `archive-register.js` | 创建员工档案 |
| `/api/employee-archives/{archiveId}/photo` | POST | ✅ 已使用 | `archive-register.js` | 上传照片 |
| `/api/employee-archives/pending-review` | GET | ✅ 已使用 | `archive-review.js` | 待复核列表 |
| `/api/employee-archives/{archiveId}` | GET | ✅ 已使用 | `archive-review.js`, `archive-query.js` | 获取详情 |
| `/api/employee-archives/{archiveId}/review/approve` | POST | ✅ 已使用 | `archive-review.js` | 复核通过 |
| `/api/employee-archives/{archiveId}/review` | PUT | ✅ 已使用 | `archive-review.js` | 复核时修改 |
| `/api/employee-archives` | GET | ✅ 已使用 | `archive-query.js` | 查询档案 |
| `/api/employee-archives/{archiveId}` | PUT | ✅ 已使用 | `archive-query.js` | 档案变更功能 |
| `/api/employee-archives/{archiveId}` | DELETE | ✅ 已使用 | `archive-delete.js` | 删除档案 |
| `/api/employee-archives/deleted` | GET | ✅ 已使用 | `archive-delete.js` | 已删除列表 |
| `/api/employee-archives/{archiveId}/restore` | POST | ✅ 已使用 | `archive-delete.js` | 恢复档案 |

### 4. 薪酬管理模块

#### 薪酬标准管理
| 接口 | 方法 | 状态 | 前端使用位置 |
|------|------|------|-------------|
| `/api/salary-standards` | POST | ✅ 已使用 | `salary-standard-register.js` |
| `/api/salary-standards/pending-review` | GET | ✅ 已使用 | `salary-standard-review.js` |
| `/api/salary-standards/{standardId}` | GET | ✅ 已使用 | `salary-standard-review.js`, `salary-standard-query.js` |
| `/api/salary-standards/{standardId}/review/approve` | POST | ✅ 已使用 | `salary-standard-review.js` |
| `/api/salary-standards/{standardId}/review/reject` | POST | ✅ 已使用 | `salary-standard-review.js` |
| `/api/salary-standards` | GET | ✅ 已使用 | `salary-standard-query.js` |
| `/api/salary-standards/{standardId}` | PUT | ✅ 已使用 | `salary-standard-query.js` |
| `/api/salary-standards/by-position` | GET | ✅ 已使用 | `archive-register.js` |

#### 薪酬发放管理
| 接口 | 方法 | 状态 | 前端使用位置 |
|------|------|------|-------------|
| `/api/salary-issuances/pending-registration` | GET | ✅ 已使用 | `salary-issuance-register.js` |
| `/api/salary-issuances` | POST | ✅ 已使用 | `salary-issuance-register.js` |
| `/api/salary-issuances/{issuanceId}` | GET | ✅ 已使用 | `salary-issuance-register.js`, `salary-issuance-query.js` |
| `/api/salary-issuances/pending-review` | GET | ✅ 已使用 | `salary-issuance-review.js` |
| `/api/salary-issuances/{issuanceId}/review/approve` | POST | ✅ 已使用 | `salary-issuance-review.js` |
| `/api/salary-issuances/{issuanceId}/review/reject` | POST | ✅ 已使用 | `salary-issuance-review.js` |
| `/api/salary-issuances` | GET | ✅ 已使用 | `salary-issuance-query.js` |

## 二、字段名匹配检查

### 1. 员工档案表 (employee_archive)

| 数据库字段 | API文档字段 | 前端使用字段 | 状态 | 备注 |
|-----------|------------|-------------|------|------|
| `archive_id` | `archiveId` | `archiveId` | ✅ 匹配 | 驼峰命名 |
| `archive_number` | `archiveNumber` | `archiveNumber` | ✅ 匹配 | 驼峰命名 |
| `name` | `name` | `name` | ✅ 匹配 | |
| `gender` | `gender` | `gender` | ✅ 匹配 | |
| `id_number` | `idNumber` | `idNumber` | ✅ 匹配 | 驼峰命名 |
| `birthday` | `birthday` | `birthday` | ✅ 匹配 | |
| `age` | `age` | `age` | ✅ 匹配 | |
| `nationality` | `nationality` | `nationality` | ✅ 匹配 | |
| `place_of_birth` | `placeOfBirth` | `placeOfBirth` | ✅ 匹配 | 驼峰命名 |
| `ethnicity` | `ethnicity` | `ethnicity` | ✅ 匹配 | |
| `religious_belief` | `religiousBelief` | `religiousBelief` | ✅ 匹配 | 驼峰命名 |
| `political_status` | `politicalStatus` | `politicalStatus` | ✅ 匹配 | 驼峰命名 |
| `education_level` | `educationLevel` | `educationLevel` | ✅ 匹配 | 驼峰命名 |
| `major` | `major` | `major` | ✅ 匹配 | |
| `email` | `email` | `email` | ✅ 匹配 | |
| `phone` | `phone` | `phone` | ✅ 匹配 | |
| `qq` | `qq` | `qq` | ✅ 匹配 | |
| `mobile` | `mobile` | `mobile` | ✅ 匹配 | |
| `address` | `address` | `address` | ✅ 匹配 | |
| `postal_code` | `postalCode` | `postalCode` | ✅ 匹配 | 驼峰命名 |
| `hobby` | `hobby` | `hobby` | ✅ 匹配 | |
| `personal_resume` | `personalResume` | `personalResume` | ✅ 匹配 | 驼峰命名 |
| `family_relationship` | `familyRelationship` | `familyRelationship` | ✅ 匹配 | 驼峰命名 |
| `remarks` | `remarks` | `remarks` | ✅ 匹配 | |
| `photo_url` | `photoUrl` | `photoUrl` | ✅ 匹配 | 驼峰命名 |
| `first_org_id` | `firstOrgId` | `firstOrgId` | ✅ 匹配 | 驼峰命名 |
| `second_org_id` | `secondOrgId` | `secondOrgId` | ✅ 匹配 | 驼峰命名 |
| `third_org_id` | `thirdOrgId` | `thirdOrgId` | ✅ 匹配 | 驼峰命名 |
| `position_id` | `positionId` | `positionId` | ✅ 匹配 | 驼峰命名 |
| `job_title` | `jobTitle` | `jobTitle` | ✅ 匹配 | 驼峰命名 |
| `salary_standard_id` | `salaryStandardId` | `salaryStandardId` | ✅ 匹配 | 驼峰命名 |
| `registrar_id` | `registrarId` | `registrarId` | ✅ 匹配 | 驼峰命名 |
| `registration_time` | `registrationTime` | `registrationTime` | ✅ 匹配 | 驼峰命名 |
| `reviewer_id` | `reviewerId` | `reviewerId` | ✅ 匹配 | 驼峰命名 |
| `review_time` | `reviewTime` | `reviewTime` | ✅ 匹配 | 驼峰命名 |
| `review_comments` | `reviewComments` | `reviewComments` | ✅ 匹配 | 驼峰命名 |
| `status` | `status` | `status` | ✅ 匹配 | |
| `delete_time` | `deleteTime` | `deleteTime` | ✅ 匹配 | 驼峰命名 |
| `delete_reason` | `deleteReason` | `deleteReason` | ✅ 匹配 | 驼峰命名 |
| `create_time` | `createTime` | `createTime` | ✅ 匹配 | 驼峰命名 |
| `update_time` | `updateTime` | `updateTime` | ✅ 匹配 | 驼峰命名 |

**关联字段（视图字段）：**
| 视图字段 | API文档字段 | 前端使用字段 | 状态 |
|---------|------------|-------------|------|
| `first_org_name` | `firstOrgName` | `firstOrgName` | ✅ 匹配 |
| `second_org_name` | `secondOrgName` | `secondOrgName` | ✅ 匹配 |
| `third_org_name` | `thirdOrgName` | `thirdOrgName` | ✅ 匹配 |
| `position_name` | `positionName` | `positionName` | ✅ 匹配 |
| `registrar_name` | `registrarName` | `registrarName` | ✅ 匹配 |
| `reviewer_name` | `reviewerName` | `reviewerName` | ✅ 匹配 |
| `org_full_path` | `orgFullPath` | `orgFullPath` | ✅ 匹配 |

### 2. 薪酬标准表 (salary_standard)

| 数据库字段 | API文档字段 | 前端使用字段 | 状态 |
|-----------|------------|-------------|------|
| `standard_id` | `standardId` | `standardId` | ✅ 匹配 |
| `standard_code` | `standardCode` | `standardCode` | ✅ 匹配 |
| `standard_name` | `standardName` | `standardName` | ✅ 匹配 |
| `position_id` | `positionId` | `positionId` | ✅ 匹配 |
| `job_title` | `jobTitle` | `jobTitle` | ✅ 匹配 |
| `formulator_id` | `formulatorId` | `formulatorId` | ✅ 匹配 |
| `registrar_id` | `registrarId` | `registrarId` | ✅ 匹配 |
| `registration_time` | `registrationTime` | `registrationTime` | ✅ 匹配 |
| `reviewer_id` | `reviewerId` | `reviewerId` | ✅ 匹配 |
| `review_time` | `reviewTime` | `reviewTime` | ✅ 匹配 |
| `review_comments` | `reviewComments` | `reviewComments` | ✅ 匹配 |
| `status` | `status` | `status` | ✅ 匹配 |

### 3. 薪酬标准明细表 (salary_standard_item)

| 数据库字段 | API文档字段 | 前端使用字段 | 状态 |
|-----------|------------|-------------|------|
| `standard_item_id` | `standardItemId` | `standardItemId` | ✅ 匹配 |
| `standard_id` | `standardId` | `standardId` | ✅ 匹配 |
| `item_id` | `itemId` | `itemId` | ✅ 匹配 |
| `amount` | `amount` | `amount` | ✅ 匹配 |
| `is_calculated` | `isCalculated` | `isCalculated` | ✅ 匹配 |

### 4. 薪酬发放单表 (salary_issuance)

| 数据库字段 | API文档字段 | 前端使用字段 | 状态 |
|-----------|------------|-------------|------|
| `issuance_id` | `issuanceId` | `issuanceId` | ✅ 匹配 |
| `salary_slip_number` | `salarySlipNumber` | `salarySlipNumber` | ✅ 匹配 |
| `third_org_id` | `thirdOrgId` | `thirdOrgId` | ✅ 匹配 |
| `total_employees` | `totalEmployees` | `totalEmployees` | ✅ 匹配 |
| `total_basic_salary` | `totalBasicSalary` | `totalBasicSalary` | ✅ 匹配 |
| `total_net_pay` | `totalNetPay` | `totalNetPay` | ✅ 匹配 |
| `issuance_month` | `issuanceMonth` | `issuanceMonth` | ✅ 匹配 |
| `issuance_time` | `issuanceTime` | `issuanceTime` | ✅ 匹配 |
| `registrar_id` | `registrarId` | `registrarId` | ✅ 匹配 |
| `registration_time` | `registrationTime` | `registrationTime` | ✅ 匹配 |
| `reviewer_id` | `reviewerId` | `reviewerId` | ✅ 匹配 |
| `review_time` | `reviewTime` | `reviewTime` | ✅ 匹配 |
| `reject_reason` | `rejectReason` | `rejectReason` | ✅ 匹配 |
| `status` | `status` | `status` | ✅ 匹配 |
| `payment_status` | `paymentStatus` | `paymentStatus` | ✅ 匹配 |

### 5. 薪酬发放明细表 (salary_issuance_detail)

| 数据库字段 | API文档字段 | 前端使用字段 | 状态 |
|-----------|------------|-------------|------|
| `detail_id` | `detailId` | `detailId` | ✅ 匹配 |
| `issuance_id` | `issuanceId` | `issuanceId` | ✅ 匹配 |
| `employee_id` | `employeeId` | `employeeId` | ✅ 匹配 |
| `employee_number` | `employeeNumber` | `employeeNumber` | ✅ 匹配 |
| `employee_name` | `employeeName` | `employeeName` | ✅ 匹配 |
| `position_name` | `positionName` | `positionName` | ✅ 匹配 |
| `basic_salary` | `basicSalary` | `basicSalary` | ✅ 匹配 |
| `performance_bonus` | `performanceBonus` | `performanceBonus` | ✅ 匹配 |
| `transportation_allowance` | `transportationAllowance` | `transportationAllowance` | ✅ 匹配 |
| `meal_allowance` | `mealAllowance` | `mealAllowance` | ✅ 匹配 |
| `pension_insurance` | `pensionInsurance` | `pensionInsurance` | ✅ 匹配 |
| `medical_insurance` | `medicalInsurance` | `medicalInsurance` | ✅ 匹配 |
| `unemployment_insurance` | `unemploymentInsurance` | `unemploymentInsurance` | ✅ 匹配 |
| `housing_fund` | `housingFund` | `housingFund` | ✅ 匹配 |
| `award_amount` | `awardAmount` | `awardAmount` | ✅ 匹配 |
| `deduction_amount` | `deductionAmount` | `deductionAmount` | ✅ 匹配 |
| `total_income` | `totalIncome` | `totalIncome` | ✅ 匹配 |
| `total_deduction` | `totalDeduction` | `totalDeduction` | ✅ 匹配 |
| `net_pay` | `netPay` | `netPay` | ✅ 匹配 |

### 6. 机构表 (organization)

| 数据库字段 | API文档字段 | 前端使用字段 | 状态 |
|-----------|------------|-------------|------|
| `org_id` | `orgId` | `orgId` | ✅ 匹配 |
| `org_code` | `orgCode` | `orgCode` | ✅ 匹配 |
| `org_name` | `orgName` | `orgName` | ✅ 匹配 |
| `org_level` | `orgLevel` | `orgLevel` | ✅ 匹配 |
| `parent_id` | `parentId` | `parentId` | ✅ 匹配 |
| `description` | `description` | `description` | ✅ 匹配 |
| `status` | `status` | `status` | ✅ 匹配 |

### 7. 职位表 (position)

| 数据库字段 | API文档字段 | 前端使用字段 | 状态 |
|-----------|------------|-------------|------|
| `position_id` | `positionId` | `positionId` | ✅ 匹配 |
| `position_name` | `positionName` | `positionName` | ✅ 匹配 |
| `third_org_id` | `thirdOrgId` | `thirdOrgId` | ✅ 匹配 |
| `description` | `description` | `description` | ✅ 匹配 |
| `status` | `status` | `status` | ✅ 匹配 |

### 8. 薪酬项目表 (salary_item)

| 数据库字段 | API文档字段 | 前端使用字段 | 状态 |
|-----------|------------|-------------|------|
| `item_id` | `itemId` | `itemId` | ✅ 匹配 |
| `item_code` | `itemCode` | `itemCode` | ✅ 匹配 |
| `item_name` | `itemName` | `itemName` | ✅ 匹配 |
| `item_type` | `itemType` | `itemType` | ✅ 匹配 |
| `calculation_rule` | `calculationRule` | `calculationRule` | ✅ 匹配 |
| `sort_order` | `sortOrder` | `sortOrder` | ✅ 匹配 |
| `status` | `status` | `status` | ✅ 匹配 |

### 9. 用户表 (user)

| 数据库字段 | API文档字段 | 前端使用字段 | 状态 |
|-----------|------------|-------------|------|
| `user_id` | `userId` | `userId` | ✅ 匹配 |
| `username` | `username` | `username` | ✅ 匹配 |
| `password` | `password` | `password` | ✅ 匹配 |
| `real_name` | `realName` | `realName` | ✅ 匹配 |
| `role` | `role` | `role` | ✅ 匹配 |
| `email` | `email` | `email` | ✅ 匹配 |
| `phone` | `phone` | `phone` | ✅ 匹配 |
| `status` | `status` | `status` | ✅ 匹配 |

## 三、总结

### 接口使用统计
- **已使用接口：** 48个
- **未使用接口：** 5个（认证相关和用户查询，均为可选功能）
- **功能缺失：** 0个

### 字段匹配情况
- **所有字段：** ✅ 完全匹配
- **命名规范：** ✅ 数据库使用下划线命名，API和前端使用驼峰命名，转换正确
- **关联字段：** ✅ 视图字段和关联字段命名一致

### 发现的问题

1. **可选接口未使用**（不影响功能）
   - Token刷新和验证接口
   - 用户查询接口（按角色、按状态）

### 建议

1. **可选优化：** 实现Token刷新功能，提升用户体验
2. **其他：** 所有核心业务接口和字段都已正确使用和匹配

